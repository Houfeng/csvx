/**
 * utils.js - utils is a function library
 * @version v0.0.1
 * @link http://houfeng.net/utils
 * @license MIT
 * @author Houfeng
 * @email admin@xhou.net
 */
!function(t){"use strict";t.isNull=function(t){return null===t||"undefined"==typeof t},t.trim=function(t){return this.isNull(t)?t:t.trim?t.trim():t.replace(/(^[\\s]*)|([\\s]*$)/g,"")},t.replace=function(t,e,i){return this.isNull(t)?t:t.replace(new RegExp(e,"g"),i)},t.startWith=function(t,e){return this.isNull(t)||this.isNull(e)?!1:0===t.indexOf(e)},t.contains=function(t,e){var i=this;return this.isNull(t)||this.isNull(e)?!1:i.isArray(t)?i.each(t,function(t,i){return i==e?!0:void 0}):t&&e&&t.indexOf(e)>-1},t.endWith=function(t,e){return this.isNull(t)||this.isNull(e)?!1:t.indexOf(e)===t.length-e.length},t.has=t.hasProperty=function(t,e){return this.isNull(t)||this.isNull(e)?!1:e in t||t.hasOwnProperty(e)},t.isFunction=function(t){return this.isNull(t)?!1:"function"==typeof t},t.isString=function(t){return this.isNull(t)?!1:"string"==typeof t||t instanceof String},t.isNumber=function(t){return this.isNull(t)?!1:"number"==typeof t||t instanceof Number},t.isBoolean=function(t){return this.isNull(t)?!1:"boolean"==typeof t||t instanceof Boolean},t.isElement=function(t){return this.isNull(t)?!1:window.Element?t instanceof Element:t.tagName&&t.nodeType&&t.nodeName&&t.attributes&&t.ownerDocument},t.isText=function(t){return this.isNull(t)?!1:t instanceof Text},t.isObject=function(t){return this.isNull(t)?!1:"object"==typeof t},t.isArray=function(t){if(this.isNull(t))return!1;var e="[object Array]"===Object.prototype.toString.call(t),i=t instanceof Array,n=!this.isString(t)&&this.isNumber(t.length)&&this.isFunction(t.splice),r=!this.isString(t)&&this.isNumber(t.length)&&t[0];return e||i||n||r},t.isDate=function(t){return this.isNull(t)?!1:t instanceof Date},t.toArray=function(t){if(this.isNull(t))return[];try{return Array.prototype.slice.call(t)}catch(e){for(var i=[],n=(t.length,0);n<len;n++)i[n]=s[n];return i}},t.toDate=function(t){var e=this;return e.isNumber(t)?new Date(t):e.isString(t)?new Date(e.replace(e.replace(t,"-","/"),"T"," ")):e.isDate(t)?t:null},t.each=function(t,e){if(!this.isNull(t)&&!this.isNull(e))if(this.isArray(t)){for(var i=t.length,n=0;i>n;n++)if(!this.isNull(t[n])){var r=e.call(t[n],n,t[n]);if(!this.isNull(r))return r}}else for(var s in t)if(!this.isNull(t[s])){var r=e.call(t[s],s,t[s]);if(!this.isNull(r))return r}},t.formatDate=function(t,e){if(this.isNull(e)||this.isNull(t))return t;t=this.toDate(t);var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e},t.clone=function(t,e){if(this.isNull(t)||this.isString(t)||this.isNumber(t)||this.isBoolean(t)||this.isDate(t))return t;var i=t;try{i=new t.constructor}catch(n){}for(var r in t)i[r]==t[r]||this.contains(e,r)||(i[r]="object"==typeof t[r]?this.clone(t[r],e):t[r]);return i.toString=t.toString,i.valueOf=t.valueOf,i},t.copy=function(t,e){return e=e||{},this.each(t,function(i){try{e[i]=t[i]}catch(n){}}),e},t.newGuid=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t.defineProperty=function(t,e,i,n){if(t&&e&&i){var r=this;if(i.set=i.set||function(){throw"do not implement "+e+" setter."},i.get=i.get||function(){throw"do not implement "+e+" getter."},!n)if(t.__defineGetter__&&t.__defineSetter__)t.__defineSetter__(e,i.set),t.__defineGetter__(e,i.get);else if(Object.defineProperty)try{Object.defineProperty(t,e,i)}catch(s){}return r.has(t,e)||(t[e]=function(e){var n=r.isNull(e)?"get":"set";return i[n].apply(t,arguments||[])}),t[e]}},t.wrapUrl=function(t){return this.isNull(t)?t:t+=t.indexOf("?")>-1?"&__t="+this.newGuid():"?__t="+this.newGuid()},t.sleep=function(t){for(var e=(new Date).getTime()+t;(new Date).getTime()+1<e;);},t.async=function(t,e){return this.isFunction(t)?(e=e||0,t.asyncTimer&&clearTimeout(t.asyncTimer),t.asyncTimer=setTimeout(t,e),t.asyncTimer):void 0},t.mix=function(e,i,n,r,s,u){if(!i||!e)return e||t;if(s)switch(s){case 1:return t.mix(e.prototype,i.prototype,n,r,0,u);case 2:t.mix(e.prototype,i.prototype,n,r,0,u);break;case 3:return t.mix(e,i.prototype,n,r,0,u);case 4:return t.mix(e.prototype,i,n,r,0,u)}var o,l,c;if(r&&r.length)for(o=0,l=r.length;l>o;++o)c=r[o],isObject=t.isObject(e[c]),i.hasOwnProperty(c)&&(u&&isObject?t.mix(e[c],i[c]):!n&&c in e||(e[c]=i[c]));else for(o in i)i.hasOwnProperty(o)&&(u&&t.isObject(e[o],!0)?t.mix(e[o],i[o],n,r,0,!0):!n&&o in e||(e[o]=i[o]));return e},t["short"]=function(t,e){if(!t)return t;e=e||40;var i=t.length,n=e/2;return i>e?t.substr(0,n)+"..."+t.substr(i-n):t},t.firstUpper=function(t){var e=this;if(!e.isNull(t)){t=t.toLowerCase();var i=[];for(var n in t)i.push(0==n?t[n].toUpperCase():t[n]);return i.join("")}},"function"==typeof define&&define.amd&&define("utils",[],function(){return t})}("undefined"==typeof exports?window.utils={}:exports);